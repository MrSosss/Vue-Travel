webpackJsonp([1],{"5hcY":function(t,i){},"68u9":function(t,i){},"98oU":function(t,i){},BjtM:function(t,i){},EDgR:function(t,i){var e,s,a,n,r;e=document,s=window,a=e.documentElement,n="orientationchange"in window?"orientationchange":"resize",r=function(){var t=a.clientWidth;t&&(a.style.fontSize=t>=640?"100px":t/640*100+"px")},e.addEventListener&&(s.addEventListener(n,r,!1),e.addEventListener("DOMContentLoaded",r,!1))},H7mA:function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("7+uW"),a={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("keep-alive",{attrs:{exclude:"detail"}},[i("router-view")],1)],1)},staticRenderFns:[]};var n=e("VU/8")({name:"App"},a,!1,function(t){e("Qbxw")},null,null).exports,r=e("/ocq"),c=e("Dd8w"),o=e.n(c),l=e("NYxO"),d={name:"HomeHeader",computed:o()({},Object(l.d)(["city"]),Object(l.b)(["doubleCity"]))},u={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"header"},[this._m(0),this._v(" "),this._m(1),this._v(" "),i("router-link",{attrs:{to:"city"}},[i("div",{staticClass:"header_right"},[this._v("\n      "+this._s(this.city)+"\n      "),i("span",{staticClass:"iconfont"},[this._v("")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"header_left"},[i("span",{staticClass:"iconfont"},[this._v("")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"header_center"},[i("span",{staticClass:"iconfont"},[this._v("")]),this._v("\n    输入城市/景点/游玩主题\n  ")])}]};var h=e("VU/8")(d,u,!1,function(t){e("xLcX")},"data-v-441d1e76",null).exports,v={name:"HomeSwiper",props:{list:Array},data:function(){return{swiperOption:{loop:!0,pagination:{el:".swiper-pagination"}}}}},f={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"wrapper"},[i("swiper",{attrs:{options:this.swiperOption}},[this._l(this.list,function(t){return i("swiper-slide",{key:t.id},[i("img",{staticClass:"slide_img",attrs:{src:t.src,alt:""}})])}),this._v(" "),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},staticRenderFns:[]};var m=e("VU/8")(v,f,!1,function(t){e("NjXN")},"data-v-8ca3d1b0",null).exports,p={name:"HomeIcons",props:{list:Array},data:function(){return{swiperOption:{loop:!1,pagination:{el:".swiper-pagination"}}}},computed:{pages:function(){var t=[];return this.list.forEach(function(i,e){var s=Math.floor(e/8);t[s]||(t[s]=[]),t[s].push(i)}),t}}},_={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"icon_list"},[e("swiper",{attrs:{options:t.swiperOption}},[t._l(t.pages,function(i,s){return e("swiper-slide",{key:s},[e("ul",{staticClass:"ul"},t._l(i,function(i){return e("li",{key:i.id,staticClass:"li"},[e("a",{staticClass:"a",attrs:{href:""}},[e("img",{staticClass:"ico",attrs:{src:i.imgSrc,alt:""}}),t._v(" "),e("span",{staticClass:"txt"},[t._v(t._s(i.txt))])])])}),0)])}),t._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},staticRenderFns:[]};var C=e("VU/8")(p,_,!1,function(t){e("lGfB")},"data-v-04f63692",null).exports,y={name:"HomeRecommend",props:{list:Array}},g={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"rec_wrap"},[e("div",{staticClass:"rw_tit"},[t._v("猜你喜欢")]),t._v(" "),e("div",{staticClass:"rw_list"},t._l(t.list,function(i){return e("router-link",{key:i.id,staticClass:"rl_li border-bottom",attrs:{to:"/detail/"+i.id}},[e("div",{staticClass:"a"},[e("div",{staticClass:"pic"},[e("img",{staticClass:"img",attrs:{src:i.imgUrl,alt:""}})]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"tit"},[t._v(t._s(i.infoTit))]),t._v(" "),e("div",{staticClass:"txt"},[t._v(t._s(i.infoTxt))]),t._v(" "),e("div",{staticClass:"money"},[e("b",{staticClass:"b"},[t._v("¥")]),t._v(" "),e("i",{staticClass:"i"},[t._v(t._s(i.infoMoney))]),t._v("起\n                ")])])])])}),1),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"rw_more"},[i("a",{staticClass:"a",attrs:{href:""}},[this._v("查看所有产品")])])}]};var w=e("VU/8")(y,g,!1,function(t){e("68u9")},"data-v-e7ac6e58",null).exports,b={name:"HomeWeekend",props:{list:Array}},k={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"rec_wrap"},[e("div",{staticClass:"rw_tit"},[t._v("周末去哪儿")]),t._v(" "),e("div",{staticClass:"rw_list"},t._l(t.list,function(i){return e("div",{key:i.id,staticClass:"rl_li"},[e("a",{staticClass:"a",attrs:{href:""}},[e("div",{staticClass:"pic"},[e("img",{staticClass:"img",attrs:{src:i.imgUrl,alt:""}})]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"tit"},[t._v(t._s(i.infoTit))]),t._v(" "),e("div",{staticClass:"txt"},[t._v(t._s(i.infoTxt))])])])])}),0)])},staticRenderFns:[]};var x=e("VU/8")(b,k,!1,function(t){e("wj9F")},"data-v-a77026aa",null).exports,E=e("mtWM"),L=e.n(E),S={name:"home",components:{HomeHeader:h,HomeSwiper:m,HomeIcons:C,HomeRecomment:w,HomeWeekend:x},data:function(){return{lastCity:"",swiperList:[],iconList:[],recommentList:[],weekendList:[]}},computed:o()({},Object(l.d)(["city"])),methods:{getHomeInfo:function(){L.a.get("/api/index.json?city="+this.city).then(this.getHomeInfoSucc)},getHomeInfoSucc:function(t){if((t=t.data).ret&&t.data){var i=t.data;this.swiperList=i.swiperList,this.iconList=i.iconList,this.recommentList=i.recommendList,this.weekendList=i.weekendList}}},mounted:function(){this.lastCity=this.city,this.getHomeInfo()},activated:function(){this.lastCity!==this.city&&(this.lastCity=this.city,this.getHomeInfo())}},I={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("home-header"),t._v(" "),e("home-swiper",{attrs:{list:t.swiperList}}),t._v(" "),e("home-icons",{attrs:{list:t.iconList}}),t._v(" "),e("home-recomment",{attrs:{list:t.recommentList}}),t._v(" "),e("home-weekend",{attrs:{list:t.weekendList}})],1)},staticRenderFns:[]};var $=e("VU/8")(S,I,!1,function(t){e("H7mA")},null,null).exports,H={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"header"},[i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"header_back"},[i("span",{staticClass:"iconfont"},[this._v("")])])]),this._v(" "),i("div",{staticClass:"header_txt"},[this._v("城市选择")])],1)},staticRenderFns:[]};var N=e("VU/8")({name:"CityHeader"},H,!1,function(t){e("pO/d")},"data-v-31835f7e",null).exports,A=e("GQaK"),O={name:"CitySearch",props:{cities:Object},data:function(){return{keyword:"",list:[],timer:null}},computed:{hasNoData:function(){return!this.list.length}},watch:{keyword:function(){var t=this;this.timer&&clearTimeout(this.timer),this.keyword?this.timer=setTimeout(function(){var i=[];for(var e in t.cities)t.cities[e].forEach(function(e){(e.spell.indexOf(t.keyword)>-1||e.name.indexOf(t.keyword)>-1)&&i.push(e)});t.list=i},100):this.list=[]}},mounted:function(){this.scroll=new A.a(this.$refs.search)},methods:o()({handleCityClick:function(t){this.changeCity(t),this.$router.push("/")}},Object(l.c)(["changeCity"]))},j={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"search"},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"ipt",attrs:{type:"text",placeholder:"输入城市名或拼音"},domProps:{value:t.keyword},on:{input:function(i){i.target.composing||(t.keyword=i.target.value)}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],ref:"search",staticClass:"search-content"},[e("ul",[t._l(t.list,function(i){return e("li",{key:i.id,staticClass:"border-bottom",on:{click:function(e){return t.handleCityClick(i.name)}}},[t._v(t._s(i.name))])}),t._v(" "),e("li",{directives:[{name:"show",rawName:"v-show",value:t.hasNoData,expression:"hasNoData"}],staticClass:"border-bottom"},[t._v("没有找到匹配数据")])],2)])])])},staticRenderFns:[]};var F=e("VU/8")(O,j,!1,function(t){e("tHcm")},"data-v-98d90fac",null).exports,R={name:"CityList",props:{hotCities:Array,cities:Object,letter:String},computed:o()({},Object(l.d)({currentCity:"city"})),mounted:function(){this.scroll=new A.a(this.$refs.wrapper)},watch:{letter:function(){if(this.letter){var t=this.$refs[this.letter][0];this.scroll.scrollToElement(t)}}},methods:o()({handleCityClick:function(t){this.changeCity(t),this.$router.push("/")}},Object(l.c)(["changeCity"]))},U={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"wrapper",staticClass:"list_wrapper"},[e("div",[e("div",{staticClass:"lw_section"},[e("div",{staticClass:"ls_tit"},[t._v("当前城市")]),t._v(" "),e("div",{staticClass:"ls_li"},[e("div",{staticClass:"button_box"},[e("div",{staticClass:"button"},[t._v(t._s(this.currentCity))])])])]),t._v(" "),e("div",{staticClass:"lw_section"},[e("div",{staticClass:"ls_tit"},[t._v("热门城市")]),t._v(" "),e("div",{staticClass:"ls_li"},t._l(t.hotCities,function(i){return e("div",{key:i.id,staticClass:"button_box",on:{click:function(e){return t.handleCityClick(i.name)}}},[e("div",{staticClass:"button"},[t._v(t._s(i.name))])])}),0)]),t._v(" "),e("div",{staticClass:"lw_section"},t._l(t.cities,function(i,s){return e("div",{key:s,ref:s,refInFor:!0},[e("div",{staticClass:"ls_tit"},[t._v(t._s(s))]),t._v(" "),e("div",{staticClass:"ls_li"},t._l(i,function(s){return e("div",{key:i.id,staticClass:"alp_li border-bottom",on:{click:function(i){return t.handleCityClick(s.name)}}},[t._v(t._s(s.name))])}),0)])}),0)])])},staticRenderFns:[]};var T=e("VU/8")(R,U,!1,function(t){e("5hcY")},"data-v-6a20ff34",null).exports,V={name:"CityAlphabet",props:{cities:Object},computed:{letters:function(){var t=[];for(var i in this.cities)t.push(i);return t}},data:function(){return{touchSataus:!1,startY:0,timer:null}},updated:function(){this.startY=this.$refs.A[0].offsetTop},methods:{handleAlpClick:function(t){this.$emit("change",t.target.innerHTML)},handleTouchStart:function(){this.touchSataus=!0},handleTouchMove:function(t){var i=this;this.touchSataus&&(this.timer&&clearTimeout,this.timer=setTimeout(function(){var e=t.touches[0].clientY-81,s=Math.floor((e-i.startY)/22);s>=0&&s<i.letters.length&&i.$emit("change",i.letters[s])},16))},handleTouchEnd:function(){this.touchSataus=!1}}},D={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"alp_list"},[e("div",{staticClass:"ul"},t._l(t.letters,function(i){return e("div",{key:i,ref:i,refInFor:!0,staticClass:"li",on:{touchstart:function(i){return i.preventDefault(),t.handleTouchStart(i)},touchmove:t.handleTouchMove,touchend:t.handleTouchEnd,click:t.handleAlpClick}},[t._v(t._s(i))])}),0)])},staticRenderFns:[]};var G={name:"City",components:{CityHeader:N,CitySearch:F,CityList:T,CityAlphabet:e("VU/8")(V,D,!1,function(t){e("owO3")},"data-v-003c1ca2",null).exports},data:function(){return{hotCities:[],cities:{},letter:""}},methods:{getCityInfo:function(){L.a.get("/api/city.json").then(this.getCitySuccess)},getCitySuccess:function(t){if(t.data.ret&&t.data.data){var i=t.data.data;this.hotCities=i.hotCities,this.cities=i.cities}},handleAlpChange:function(t){this.letter=t}},mounted:function(){this.getCityInfo()}},M={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("city-header"),t._v(" "),e("city-search",{attrs:{cities:t.cities}}),t._v(" "),e("city-list",{attrs:{hotCities:t.hotCities,cities:t.cities,letter:t.letter}}),t._v(" "),e("city-alphabet",{attrs:{cities:t.cities},on:{change:t.handleAlpChange}})],1)},staticRenderFns:[]};var B=e("VU/8")(G,M,!1,function(t){e("dN5e")},"data-v-30b33a58",null).exports,Q={name:"CommonGallary",props:{imgs:{type:Array}},data:function(){return{swiperOptions:{loop:!0,pagination:{el:".swiper-pagination",type:"fraction"},observeParents:!0,observer:!0}}},methods:{handleGalleryClick:function(){this.$emit("close")}}},Y={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"gallery-con",on:{click:this.handleGalleryClick}},[i("div",{staticClass:"gc-wrapper"},[i("swiper",{staticClass:"swiper",attrs:{options:this.swiperOptions}},[this._l(this.imgs,function(t,e){return i("swiper-slide",{key:e,staticClass:"slide"},[i("img",{staticClass:"slide-img",attrs:{src:t,alt:""}})])}),this._v(" "),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])},staticRenderFns:[]};var X={render:function(){var t=this.$createElement;return(this._self._c||t)("transition",[this._t("default")],2)},staticRenderFns:[]};var W={name:"DetailBanner",components:{CommonGallary:e("VU/8")(Q,Y,!1,function(t){e("mdgk")},"data-v-4306f6b3",null).exports,fade:e("VU/8")({name:"fade"},X,!1,function(t){e("QwlQ")},"data-v-60aa8b4c",null).exports},props:{sightName:String,bannerImg:String,gallaryImgs:Array},data:function(){return{showGallary:!1}},methods:{hanleBannerClick:function(){this.showGallary=!0},GalleryClose:function(){this.showGallary=!1}}},K={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"banner-con",on:{click:t.hanleBannerClick}},[e("div",{staticClass:"banner-pic"},[e("img",{attrs:{src:t.bannerImg,alt:""}})]),t._v(" "),e("div",{staticClass:"banner-txt"},[e("div",{staticClass:"bt-picnum"},[e("span",{staticClass:"iconfont"},[t._v("")]),t._v(t._s(t.gallaryImgs.length)+"\n            ")]),t._v(" "),e("div",{staticClass:"bt-tit"},[t._v(t._s(t.sightName))])])]),t._v(" "),e("fade",[e("common-gallary",{directives:[{name:"show",rawName:"v-show",value:t.showGallary,expression:"showGallary"}],attrs:{imgs:t.gallaryImgs},on:{close:t.GalleryClose}})],1)],1)},staticRenderFns:[]};var P=e("VU/8")(W,K,!1,function(t){e("Ss9Z")},"data-v-18931f78",null).exports,z={name:"DetailHeader",data:function(){return{showAbs:!0,opacityStyle:{opacity:0}}},props:{sightName:String},methods:{handleScroll:function(){console.log(1);var t=document.documentElement.scrollTop;if(t>50){var i=t/120;i=i>1?1:i,this.opacityStyle={opacity:i},this.showAbs=!1}else this.showAbs=!0}},created:function(){window.addEventListener("scroll",this.handleScroll)},decreated:function(){window.removeEventListener("scroll",this.handleScroll)}},Z={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"detail-header"},[e("router-link",{directives:[{name:"show",rawName:"v-show",value:t.showAbs,expression:"showAbs"}],staticClass:"header-abs",attrs:{to:"/"}},[e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAbs,expression:"!showAbs"}],staticClass:"header-fix",style:t.opacityStyle},[e("router-link",{staticClass:"header-left",attrs:{to:"/"}},[e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("div",{staticClass:"header-center"},[t._v(t._s(t.sightName))])],1)],1)},staticRenderFns:[]};var q=e("VU/8")(z,Z,!1,function(t){e("mKIS")},"data-v-2e783f29",null).exports,J={name:"DetailList",props:{categoryList:Array}},tt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",t._l(t.categoryList,function(i,s){return e("div",{key:s,staticClass:"list-con"},[e("div",{staticClass:"list-tit border-bottom"},[e("span",{staticClass:"ticket"}),t._v("\n            "+t._s(i.title)+"\n        ")]),t._v(" "),e("div",{staticClass:"list-children"},[i.children?e("div",{staticClass:"list-children-item"},[e("detail-list",{attrs:{categoryList:i.children}})],1):t._e()])])}),0)},staticRenderFns:[]};var it={name:"detail",components:{DetailBanner:P,DetailHeader:q,DetailList:e("VU/8")(J,tt,!1,function(t){e("fxXV")},"data-v-746fe3d8",null).exports},data:function(){return{sightName:"",bannerImg:"",gallaryImgs:[],categoryList:[]}},methods:{getDeatilInfo:function(){L.a.get("/api/detail.json",{params:{id:this.$route.params.id}}).then(this.getDEatilInfoSucc)},getDEatilInfoSucc:function(t){if(t.data){var i=t.data.data;this.sightName=i.sightName,this.bannerImg=i.bannerImg,this.gallaryImgs=i.gallaryImgs,this.categoryList=i.categoryList}console.log(t)}},mounted:function(){this.getDeatilInfo()}},et={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"detail-content"},[i("detail-banner",{attrs:{sightName:this.sightName,bannerImg:this.bannerImg,gallaryImgs:this.gallaryImgs}}),this._v(" "),i("detail-header",{attrs:{sightName:this.sightName}}),this._v(" "),i("div",{staticClass:"content"},[i("detail-list",{attrs:{categoryList:this.categoryList}})],1)],1)},staticRenderFns:[]};var st=e("VU/8")(it,et,!1,function(t){e("98oU")},"data-v-273e9659",null).exports;s.a.use(r.a);var at=new r.a({routes:[{path:"/",name:"Home",component:$},{path:"/city",name:"City",component:B},{path:"/detail/:id",name:"Detail",component:st}],scrollBehavior:function(t,i,e){return{x:0,y:0}}}),nt=e("v5o6"),rt=e.n(nt),ct=(e("EDgR"),e("m0iu"),e("cjdf"),e("BjtM"),e("7QTg")),ot=e.n(ct),lt=(e("v2ns"),"北京");try{localStorage.city&&(lt=localStorage.city)}catch(t){}var dt={city:lt},ut={changeCity:function(t,i){t.city=i;try{localStorage.city=i}catch(t){}}};s.a.use(l.a);var ht=new l.a.Store({state:dt,mutations:ut,getters:{doubleCity:function(){return dt.city+" "+dt.city}}});e("j1ja");s.a.config.productionTip=!1,rt.a.attach(document.body),s.a.use(ot.a),new s.a({el:"#app",router:at,store:ht,components:{App:n},template:"<App/>"})},NjXN:function(t,i){},Qbxw:function(t,i){},QwlQ:function(t,i){},Ss9Z:function(t,i){},cjdf:function(t,i){},dN5e:function(t,i){},fxXV:function(t,i){},lGfB:function(t,i){},m0iu:function(t,i){},mKIS:function(t,i){},mdgk:function(t,i){},owO3:function(t,i){},"pO/d":function(t,i){},tHcm:function(t,i){},v2ns:function(t,i){},wj9F:function(t,i){},xLcX:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.49c5919437ee0d493e23.js.map